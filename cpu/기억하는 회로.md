# 기억하는 회로

## 기억하는 회로는 필요하다.

메모리나 레지스터가 값을 어떤 식으로 가지고 있는지를 알려주는 부분입니다. 해당 출력이 0, 1(L or H)로 나올텐데 그게 1비트라고 한다면, 어떤 비트는 0을 이루고 어떤 비트는 1을 구성해서 숫자를 만들 수 있는거니까 ~ 

메모리나, 레지스터는 어떤식으로 값을 가지고 있는지 확인해봅시다!

메모리는 주기억장치라고도 불리는데, 기억 장치를 대표합니다. 또한 **레지스터**는 CPU 속에 있는 기억장치로서 일회용 메모지와 같은 역할을 수행합니다. 메모리보다 간편하지만 어디까지나 **일시적인 기억**을 유지합니다. 여기서 회로가 기억을 하게 되면 어떤 일이 벌어질 까요? 이전에 수행한 계산의 결과를 다음번에도 사용하게 되는 겁니다! 우왓... 엄청난 느낌이 온다면 당신은 이미 고수. 

예를 들어 자판기가 있다고 해보죠! 100원을 넣었는데 넣은 사실을 기억하지 못하는 자판기는 당장 쓰레기장에 버려야합니다. CS 지식이 불쌍한 자판기를 구사일생시켰습니다! 100원을 넣고 그 담에 500원을 넣는 행위와 이것을 기억하는 것은 **과거의 기억이 현재의 출력 결과인 600원에 영향을 미치는 것입니다.** 이처럼 컴퓨터가 확실한 도움을 주기 위해선 기억하는 회로가 절실히 필요합니다. 



## 기억회로의 기본은 플립플롭 

여기서 용어 정리를 살짝 해봅시다. 컴퓨터가 0, 1을 기억한다는 것은 어떠한 상태를 유지한다고 했습니다. 이렇게 **데이터를 유지하는 것을 래치(Latch)**한다고 합니다. 그런데 이렇게 상태를 유지하기만 하면 기억한다고 하기엔 조금 부족합니다. 상태를 변화할 수도 있어야 충분한 의미의 기억이라 할 수 있습니다. 어떤 트리거 조건(계기)에 의해 유지하고 있는 0 또는 1을 임의의 타이밍에 자유롭게 변화시켜야 합니다. 

정리 하자면 기억한다는 것은 

### 0 또는 1을 유지하면서도 0과 1일을 반전시킨다 

입니다. 이러한 요구를 실행시키는 것이 **플립플롭** 회로입니다. 

![image-20220402231703873](/Users/yeongjinjang/Library/Application Support/typora-user-images/image-20220402231703873.png)

여기서 **출력 Q** 에 집중해야합니다. 왜냐면 이것이 **계속 1 또는 계속 0** 이 되는 부분입니다. Q` 는 회로 설계시 있으면 편리한데 지금은 신경쓰지 않아도 좋습니다. 

오늘 우리는 약 3가지의 플립플롭을 볼 것입니다.

1. RS 플립플롭 (= RS 랫치 = SR 랫치)
2. D 플립플롭
3. T 플립플롭



### RS플립플롭

![image-20220402232056990](/Users/yeongjinjang/Library/Application Support/typora-user-images/image-20220402232056990.png)

R 은 Reset, S 는 Set 을 뜻합니다. **S(set) = 1 로 하면 Q = 1이 되고, R(reset) = 1 로 하면 Q = 0** 이 됩니다. 

또한 출력 Q의 상태가 정해진 이후에는 입력을 0 으로 변경해도 출력은 변하지 않습니다. 

**"마지막에 1로 한건 S 나 R 중 무엇인가? S면 1이 기억되고 R이면 0이 기억된다."**

![R'S' 플립플롭](http://www.ktword.co.kr/img_data/4234_2.JPG) 

회로가 서로의 출력을 다른 쪽 회로의 입력에 연결하고 있는 형태입니다. 이는 기억회로의 주된 특징입니다. 

* 불변 : Q = 1또는 Q = 0 의 출력을 유지
* 부정: s = 1, r = 1 을 하게 되면 Q = Q` = 1 이 되어서 논리회로가 성립하지 않습니다. Q'는  Q 의 반대인데 둘의 값이 같다면 문제가 커집니다 ! 



### D 플립플롭, 클록 

![image-20220402233131095](/Users/yeongjinjang/Library/Application Support/typora-user-images/image-20220402233131095.png)

* D : Data 의 D

* 삼각 마크 : 상승 에지의 마크, 하강엣지는 ` 을 붙여준다

* C : Clock (클록), 회로의 동작 상태를 맞추는 데 필요한 일정 주기의 디지털 신호이다. 

**일정한 주기에 규칙적으로 L 과 H를 반복하고 있고 ** 입력이나 출력과는 관계가 없는 별도의 존재이다. 



![image-20220402233723567](/Users/yeongjinjang/Library/Application Support/typora-user-images/image-20220402233723567.png)

### D 플립플롭은 초반 타이밍에 D 입력(L or H)가 그대로 출력 Q에 반영이 되지만, 시간이 흘러감에 따라 점차 클록의 엣지에 맞춰 출력 Q가 변화하는 것을 볼 수 있다. 

**즉, 초반 이외의 타이밍에는 입력 D가 아무리 변화해도 출력 Q에 영향을 미치지 않는 것이 포인트!**



### T 플립플롭과 카운터

![image-20220403002027104](/Users/yeongjinjang/Library/Application Support/typora-user-images/image-20220403002027104.png)

T 플립 플롭은 입력이 하나 뿐인 매우 단순한 모습

T 입력의 신호 레벨이 0 에서 1(또는 1에서 0)로 변화할 때마다 출력 Q(보유하고 있는 데이터)가 반전한다.



![image-20220403002507137](/Users/yeongjinjang/Library/Application Support/typora-user-images/image-20220403002507137.png)

이런 0과 1의 반전을 토글이라고 한다.  또 이 T 플립플롭을 다음 그림과 같이 연결해 감으로써 수를 셀 수 있는 **카운터 (계수) 회로** 를 만들 수 있다.

![image-20220403002852355](/Users/yeongjinjang/Library/Application Support/typora-user-images/image-20220403002852355.png)

이 그림에서 맨 왼쪽의 입력이 H -> L 이 될 때 출력이 반전한다. 그 다음 입력이 H -> L 이 되면 또 그 다음 출력이 반전한다. 

**입력이 반전하는 횟수에 대하여 출력이 반전하는 횟수는 절반!**

![image-20220403003317222](/Users/yeongjinjang/Library/Application Support/typora-user-images/image-20220403003317222.png)

T 가 H 가 됬다가 L 이 될 때 Q의 반전이 일어나면 ... Q0 은 Q1에 대하여 T의 역할을 하는 것이다. 즉, Q0 이 올라갔다가 내려갈 때 ! Q1은 값의 반전이 일어난다. 

**T 입력이 변화(지금 경우는 하강)할 때 마다 수를 세고 있다!**

T 플립플롭을 3개 연결하면 0~7까지 값을 셀 수 있다.

